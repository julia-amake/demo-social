(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[4],{219:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return d}));var n=a(3),r=a(218),o=a(0),c=a.n(o),i=a(220),l=a.n(i),s=a(101),u=function(e){var t=e.input,a=e.meta,o=a.error,i=a.submitFailed,s=e.fieldType,u=Object(r.a)(e,["input","meta","fieldType"]);return c.a.createElement("div",{className:"".concat(l.a.formControl," ").concat(i&&l.a.error)},c.a.createElement(s,Object(n.a)({},t,{},u)),i&&c.a.createElement("span",{className:l.a.errorMessage},o))},m=function(e){return c.a.createElement(u,Object.assign({fieldType:"textarea"},e))},f=function(e){return c.a.createElement(u,Object.assign({fieldType:"input"},e))},d=function(e,t,a,n,r){return c.a.createElement("label",null,c.a.createElement(s.a,{type:e,name:t,component:a,placeholder:n,validate:r}))}},220:function(e,t,a){e.exports={formControl:"FormsControls_formControl__3IZ5A",error:"FormsControls_error__1QSyu",errorMessage:"FormsControls_errorMessage__2Lxl7"}},222:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return c}));var n,r=function(e){return e||"number"===typeof e?void 0:"Field is Required"},o=(n=300,function(e){return e&&e.length>n?"Must be ".concat(n," characters or less"):void 0}),c=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0}},224:function(e,t,a){e.exports=a.p+"static/media/unnamed.f566ef83.jpg"},225:function(e,t,a){e.exports={cover:"ProfileInfo_cover__24oLn",info:"ProfileInfo_info__2nY6a",avatar:"ProfileInfo_avatar__2z4QN",desc:"ProfileInfo_desc__3lf12",descAbout:"ProfileInfo_descAbout__3i6rf",name:"ProfileInfo_name__BDBmC",contacts:"ProfileInfo_contacts__3XFcv",contacts__item:"ProfileInfo_contacts__item__rDhza",editLink:"ProfileInfo_editLink__2MDi3",editForm:"ProfileInfo_editForm__1svSS"}},247:function(e,t,a){e.exports={wrapper:"ProfileStatus_wrapper__16ihi",status:"ProfileStatus_status__3o_Zx",statusHover:"ProfileStatus_statusHover__3sD4b",editor:"ProfileStatus_editor__C-crO"}},288:function(e,t,a){e.exports={posts:"MyPosts_posts__1P0sL",new:"MyPosts_new__1nTxl"}},289:function(e,t,a){e.exports={item:"Post_item__2yzXq",pic:"Post_pic__XwlqK"}},296:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(l){r=!0,o=l}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=a(218),i=a(225),l=a.n(i),s=a(224),u=a.n(s),m=a(40),f=a(247),d=a.n(f);var p=function(e){var t=e.status,a=e.updateStatus,c=e.isOwner,i=o(Object(n.useState)(!1),2),l=i[0],s=i[1],u=o(Object(n.useState)(t),2),m=u[0],f=u[1],p=c?"Add status":"";return Object(n.useEffect)((function(){f(t)}),[t]),r.a.createElement("div",{className:d.a.wrapper},l?r.a.createElement("input",{className:d.a.editor,type:"text",value:m,onBlur:function(){s(!1),m!==t&&a(m)},autoFocus:!0,onChange:function(e){return f(e.target.value)}}):r.a.createElement("div",{className:d.a.status+(c?" "+d.a.statusHover:""),onClick:function(){c&&s(!0)}},m||p))},b=function(e){var t=e.contactName,a=e.contacts;return a[t]?r.a.createElement("span",{className:l.a.contacts__item},t,": ",a[t]):null},_=function(e){var t=e.contacts;return r.a.createElement(r.a.Fragment,null,Object.keys(t).some((function(e){return t[e]}))?r.a.createElement("div",{className:l.a.contacts},r.a.createElement("h3",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),Object.keys(t).map((function(e){return r.a.createElement(b,{key:e,contactName:e,contacts:t})}))):null)},v=a(219),E=a(102),g=Object(E.a)({form:"editProfile"})((function(e){var t=e.handleSubmit;return r.a.createElement("form",{className:l.a.editForm,onSubmit:t},r.a.createElement("div",null,"Full name: ",Object(v.c)("text","fullName",v.a,"Your full name")),r.a.createElement("div",null,r.a.createElement("h3",null,"About me"),r.a.createElement("div",null,"About me: ",Object(v.c)("","aboutMe",v.b,"")),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job:")," ",Object(v.c)("checkbox","lookingForAJob",v.a,"")),r.a.createElement("div",null,"My professional skills: ",Object(v.c)("","lookingForAJobDescription",v.b,""))),r.a.createElement("button",{className:"btn"},"Save"))}));function y(e){var t=e.profile,a=e.isOwner,n=e.status,o=e.updateStatus,c=e.setEditMode,i=t.fullName,s=t.aboutMe,u=t.lookingForAJob,m=t.lookingForAJobDescription,f=t.contacts;return r.a.createElement("div",{className:l.a.desc},r.a.createElement("div",{className:l.a.name},i),r.a.createElement("div",{className:l.a.data},r.a.createElement(p,{updateStatus:o,status:n,isOwner:a}),r.a.createElement("h3",null,"About meme"),r.a.createElement("div",{className:l.a.descAbout},s),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job:")," ",u?"Yes":"No"),r.a.createElement("div",null,m&&m),r.a.createElement(_,{contacts:f})),a&&r.a.createElement("button",{className:l.a.editLink,onClick:function(){return c(!0)}},"Edit Profile"))}var P=r.a.memo((function(e){var t=e.profile,a=e.myId,i=e.updateProfile,s=Object(c.a)(e,["profile","myId","updateProfile"]),f=o(Object(n.useState)(!1),2),d=f[0],p=f[1];if(!t)return r.a.createElement(m.a,null);var b=t.photos,_=t.userId,v=Object(c.a)(t,["photos","userId"]),E=a===_;return r.a.createElement("div",{className:l.a.info},r.a.createElement("div",{className:l.a.avatar},r.a.createElement("img",{src:b.large?b.large:u.a,alt:""}),E&&r.a.createElement("input",{type:"file",onChange:function(e){return e}})),d?r.a.createElement(g,Object.assign({},s,{profile:v,isOwner:E,onSubmit:function(e){i(e,a),p(!1)},initialValues:t})):r.a.createElement(y,Object.assign({},s,{profile:v,isOwner:E,setEditMode:p})))})),h=a(51),j=a(18),O=a(288),N=a.n(O),S=a(289),k=a.n(S),w=function(e){var t=e.message,a=e.likesCount;return r.a.createElement("div",{className:k.a.item},r.a.createElement("img",{className:k.a.pic,src:"https://i.pinimg.com/736x/62/8f/49/628f49798bba23a996bbb0fe8aad174e--avatar-james-cameron-avatar-fan-art.jpg",width:"100",alt:""}),t,r.a.createElement("span",null,a," likes"))},I=a(101),F=a(222);window.props=[];var A=Object(E.a)({form:"addNewPost"})((function(e){var t=e.handleSubmit;return r.a.createElement("form",{onSubmit:t},r.a.createElement(I.a,{component:v.b,name:"newPostBody",validate:[F.c,F.b],placeholder:"Write here"}),r.a.createElement("button",{className:"btn"},"Add post"))})),x=function(e){var t=e.posts,a=e.addPost;return r.a.createElement("div",null,"My Posts",r.a.createElement("div",{className:N.a.new},r.a.createElement("h3",null,"Add new post"),r.a.createElement(A,Object.assign({onSubmit:function(e){a(e)}},e))),r.a.createElement("div",{className:N.a.posts},t.map((function(e){return r.a.createElement(w,{key:e.id,message:e.message,likesCount:e.likesCount})}))))},C={addPost:h.a},M=Object(j.b)((function(e){return{posts:e.profilePage.posts}}),C)(x),L=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,e),r.a.createElement(M,null))},T=a(17),D=a(14),J={getProfile:h.c,getStatus:h.d,updateStatus:h.f,updateProfile:h.e};t.default=Object(D.d)(Object(j.b)((function(e){return{profile:e.profilePage.profile,myId:e.auth.userId,status:e.profilePage.status,isFetching:e.profilePage.isFetching}}),J),T.f)((function(e){var t=e.myId,a=e.getProfile,o=e.getStatus,c=e.isFetching,i=e.match.params.userId,l=void 0===i?t:i,s=e.history,u=e.profile,f=e.status,d=e.updateStatus,p=e.updateProfile;return Object(n.useEffect)((function(){l?(a(l),o(l)):setTimeout((function(){return s.push("/login")}),0)}),[l]),r.a.createElement(r.a.Fragment,null,(!l||c)&&r.a.createElement(m.a,null),u&&r.a.createElement(L,{profile:u,status:f,myId:t,updateStatus:d,updateProfile:p}))}))}}]);
//# sourceMappingURL=4.bfcb3a96.chunk.js.map